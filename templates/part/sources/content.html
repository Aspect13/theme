{% set chapters = chapters | default(["git", "artifact", "local"]) -%}
{% set container_id = container_id | default("source_card") -%}

<div class="card card-x card-source" id="{{ container_id }}">
    <nav class="striped">
        <div class="nav nav-tabs source-selector" id="nav-tab" role="tablist">
            <span>Source:</span>
            {% if 'git' in chapters %}
                <a class="nav-item nav-link active" id="nav-git-tab" data-toggle="tab" href="#nav-git" role="tab"
                   aria-controls="nav-git" aria-selected="true">Git (ssh)</a>
                <a class="nav-item nav-link" id="nav-git-https-tab" data-toggle="tab" href="#nav-git-https" role="tab"
                   aria-controls="nav-git-https">Git (https)</a>
            {% endif %}
            {% if 'artifact' in chapters %}
                <a class="nav-item nav-link" id="nav-file-tab" data-toggle="tab" href="#nav-file" role="tab"
                   aria-controls="nav-file" aria-selected="false">Artifact</a>
            {% endif %}
            {% if 'local' in chapters %}
                <a class="nav-item nav-link" id="nav-local-file-tab" data-toggle="tab" href="#nav-local-file" role="tab"
                   aria-controls="nav-local-file" aria-selected="false">Local</a>
            {% endif %}
        </div>
    </nav>
    <div class="tab-content" id="nav-tabContent">
        {% if 'git' in chapters %}
            <div class="tab-pane fade mt-2 show active" id="nav-git" role="tabpanel" aria-labelledby="nav-git-tab">
                <div id="target_git" class="carrier-sast-target">
                    <div class="row">
                        <div class="col">
                            <label class="form-control-label" for="repo">Git Repo with Tests</label>
                            <input type="text" id="repo" class="form-control form-control-alternative"
                                   placeholder="e.g. git@github.com/carrier-io/dusty.git">
                            <div class="invalid-feedback" id="repo_error"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <label class="form-control-label" for="repo_key">Git SSH private key</label>
                            <input type="text" id="repo_key" class="form-control form-control-alternative">
                            <div class="invalid-feedback" id="repo_key_error"></div>
                        </div>
                        <div class="col">
                            <label class="form-control-label" for="repo_branch">Git Branch</label>
                            <input type="text" id="repo_branch" class="form-control form-control-alternative"
                                   placeholder="(optional, default - main)">
                            <div class="invalid-feedback" id="repo_branch_error"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade mt-2" id="nav-git-https" role="tabpanel" aria-labelledby="nav-git-https">
                <div id="target_git_https" class="carrier-sast-target">
                    <div class="row">
                        <div class="col">
                            <label class="form-control-label" for="repo_https">Git Repo with Tests</label>
                            <input type="text" id="repo_https" class="form-control form-control-alternative"
                                   placeholder="e.g. https://github.com/carrier-io/dusty.git">
                            <div class="invalid-feedback" id="repo_https_error"></div>
                        </div>
                        <div class="col">
                            <label class="form-control-label" for="repo_branch_https">Git Branch</label>
                            <input type="text" id="repo_branch_https" class="form-control form-control-alternative"
                                   placeholder="(optional, default - main)">
                            <div class="invalid-feedback" id="repo_branch_https_error"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <label class="form-control-label" for="repo_user">Git Username</label>
                            <input type="text" id="repo_user" class="form-control form-control-alternative"
                                   placeholder="(optional)">
                            <div class="invalid-feedback" id="repo_user_error"></div>
                        </div>
                        <div class="col">
                            <label class="form-control-label" for="repo_pass">Git Password</label>
                            <input type="text" id="repo_pass" class="form-control form-control-alternative"
                                   placeholder="(optional)">
                            <div class="invalid-feedback" id="repo_pass_error"></div>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
        {% if 'artifact' in chapters %}
            <div class="tab-pane fade mt-2" id="nav-file" role="tabpanel" aria-labelledby="nav-file-tab">
                <div class="row">
                    <div class="col">
                        <div class="form-group" id="fileUpload">
                            <label class="form-control-label" for="file">Test package</label>
                            <h13>Please upload .zip file with your tests. Packaging guidelines.</h13>
                            <input type="file" class="form-control form-control-alternative" id="file" lang="en"
                                   multiple>
                            <div class="invalid-feedback" id="file_error"></div>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
        {% if 'local' in chapters %}
            <div class="tab-pane fade mt-2" id="nav-local-file" role="tabpanel" aria-labelledby="nav-local-file-tab">
                <div class="carrier-sast-target">
                    <div class="row">
                        <div class="col">
                            <label class="form-control-label" for="local_file">Path to control-tower mount of
                                tests</label>
                            <input type="text" id="local_file" class="form-control form-control-alternative"
                                   placeholder="e.g. /tmp/test_code">
                            <div class="invalid-feedback" id="local_file_error"></div>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
</div>